(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{3219:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(4297);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9482:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(4297);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},1012:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(4297);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3718:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(4297);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3238:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/host/dashboard",function(){return s(2367)}])},5491:function(e,t,s){"use strict";s.d(t,{B:function(){return i}});var a=s(7642);let SocketManager=class SocketManager{connect(){return this.socket||(this.socket=(0,a.io)(this.url,{transports:["websocket"],autoConnect:!0})),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}emit(e,t){this.socket&&this.socket.emit(e,t)}on(e,t){this.socket&&this.socket.on(e,t)}off(e,t){this.socket&&this.socket.off(e,t)}getSocket(){return this.socket}constructor(){this.socket=null,this.url="http://localhost:3001"}};let i=new SocketManager},2367:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return HostDashboard}});var a=s(5893),i=s(7294),n=s(1163),l=s(3495),c=s(3219),r=s(1012),o=s(9482),d=s(4297);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=s(3718),x=s(5491);function HostDashboard(){let e=(0,n.useRouter)(),[t,s]=(0,i.useState)([]),[d,m]=(0,i.useState)(null),[p,y]=(0,i.useState)({quiz:null,show:!1});(0,i.useEffect)(()=>{x.B.connect();let e=localStorage.getItem("quizzes");return e&&s(JSON.parse(e)),()=>{x.B.disconnect()}},[]),(0,i.useEffect)(()=>{let handleEscape=e=>{"Escape"===e.key&&p.show&&cancelDelete()};if(p.show)return document.addEventListener("keydown",handleEscape),()=>document.removeEventListener("keydown",handleEscape)},[p.show]);let createNewQuiz=()=>{e.push("/host/create")},startGame=t=>{e.push("/host/game/".concat(t.pin))},deleteQuiz=e=>{y({quiz:e,show:!0})},cancelDelete=()=>{y({quiz:null,show:!1})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-4",children:[(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>{e.push("/")},className:"btn-secondary flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Back"})]}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Quiz Dashboard"})]}),(0,a.jsxs)("button",{onClick:createNewQuiz,className:"btn-primary flex items-center space-x-2",children:[(0,a.jsx)(r.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Create New Quiz"})]})]})}),0===t.length?(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-center py-20",children:(0,a.jsxs)("div",{className:"game-card max-w-md mx-auto",children:[(0,a.jsx)(r.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"No Quizzes Yet"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Create your first quiz to get started with interactive learning"}),(0,a.jsx)("button",{onClick:createNewQuiz,className:"btn-primary",children:"Create Your First Quiz"})]})}):(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"game-card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white truncate",children:e.title}),(0,a.jsx)("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-md text-sm font-mono",children:e.pin})]}),(0,a.jsx)("div",{className:"mb-6 text-gray-300",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("span",{children:[e.questions.length," questions"]}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsxs)("span",{children:["~",Math.ceil(e.questions.reduce((e,t)=>e+t.timeLimit,0)/60)," min"]})]})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>startGame(e),className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 flex items-center justify-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Start"})]}),(0,a.jsx)("button",{className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300",children:(0,a.jsx)(u,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>deleteQuiz(e),className:"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300",title:"Delete Quiz",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})})]})]},e.id))})]}),p.show&&p.quiz&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:cancelDelete,children:(0,a.jsx)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"game-card max-w-md w-full",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h.Z,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Delete Quiz"}),(0,a.jsxs)("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete "',(0,a.jsx)("strong",{children:p.quiz.title}),'"? This action cannot be undone.']}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:cancelDelete,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!p.quiz)return;let e=t.filter(e=>e.id!==p.quiz.id);s(e),localStorage.setItem("quizzes",JSON.stringify(e)),y({quiz:null,show:!1})},className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300",children:"Delete"})]})]})})})]})}}},function(e){e.O(0,[406,642,774,888,179],function(){return e(e.s=3238)}),_N_E=e.O()}]);